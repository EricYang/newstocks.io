"use strict";angular.module("myApp.table.table-directive",[]).directive("appTable",function(){return{restrict:"E",templateUrl:"components/table/table.html",replace:"true",scope:{items:"=",itemTitles:"=",onDelete:"&",onDisable:"&",editKey:"@",schema:"=",collection:"="},link:function(a,e,t){a.reverse=!0,a.predicate="id",a.displayVal=function(e,t,r,i){return"status"==r?0==t?"停用":"正常":angular.isObject(t)?i[e].hasOwnProperty("display")?t[i[e].display]:"Array"==i[e].type||"Object"==a.titles[e].type?t:void 0:t},a.DisplayChYear=function(e,t,r){var i="";if(e)return e=e instanceof Date&&!isNaN(e.valueOf())?e:new Date(e),r&&(i=" "+a(e.getHours())+":"+a(e.getMinutes())+":"+a(e.getSeconds())),t?e.getFullYear()-1911+"年"+a(e.getMonth()+1)+"月"+a(e.getDate())+"日":e.getFullYear()-1911+"/"+a(e.getMonth()+1)+"/"+a(e.getDate())+i;function a(e){return e=e<10?"0"+e:e}},a.order=function(e){var t=e.id;e.hasOwnProperty("display")&&(t=e.id+"."+e.display),"Array"==e.type&&(t=e.id),e.hasOwnProperty("sort")&&(t=e.sort),a.reverse=a.predicate===t&&!a.reverse,a.predicate=t},a.deleteItem=function(e){a.onDelete({item:e})},a.toggleItem=function(e){a.onDisable({item:e})}}}});